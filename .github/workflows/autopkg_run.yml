
name: Run `autopkg run`
on: [push, pull_request]
jobs:
  autopkg_run:
    name: Run `autopkg run`
    runs-on: macos-latest
    steps:
      - id: files
        uses: jitterbit/get-changed-files@v1
      - run: |
          for changed_file in ${{ steps.files.outputs.all }}; do
            case "${changed_file}" in
              *.recipe)
                echo "autopkg run -vvvv ${changed_file}"
                ;;
              *)
                ;;
          done